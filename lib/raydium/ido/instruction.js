var U=Object.create;var p=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var M=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var R=(t,n)=>{for(var o in n)p(t,o,{get:n[o],enumerable:!0})},L=(t,n,o,u)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of I(n))!K.call(t,s)&&s!==o&&p(t,s,{get:()=>n[s],enumerable:!(u=A(n,s))||u.enumerable});return t};var C=(t,n,o)=>(o=t!=null?U(M(t)):{},L(n||!t||!t.__esModule?p(o,"default",{value:t,enumerable:!0}):o,t)),D=t=>L(p({},"__esModule",{value:!0}),t);var q={};R(q,{makeClaimInstruction:()=>W,makeClaimInstructionV4:()=>O,makePurchaseInstruction:()=>E});module.exports=D(q);var a=require("@solana/web3.js"),d=require("@solana/spl-token");var S=require("@solana/spl-token"),r=require("@solana/web3.js");function b({pubkey:t,isSigner:n=!1,isWritable:o=!0}){return{pubkey:t,isWritable:o,isSigner:n}}var G=[b({pubkey:S.TOKEN_PROGRAM_ID,isWritable:!1}),b({pubkey:r.SystemProgram.programId,isWritable:!1}),b({pubkey:r.SYSVAR_RENT_PUBKEY,isWritable:!1})];var Y=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),j=new r.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),T=new r.PublicKey("SysvarRent111111111111111111111111111111111"),f=new r.PublicKey("SysvarC1ock11111111111111111111111111111111"),X=new r.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),z=new r.PublicKey("Sysvar1nstructions1111111111111111111111111"),H=r.SystemProgram.programId,F=new r.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),J=new r.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),Q=new r.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),Z=new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),$=new r.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),ee=new r.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),te=new r.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),ne=new r.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),re=new r.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),oe=new r.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),se=new r.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),ue=new r.PublicKey("So11111111111111111111111111111111111111112"),ae=r.PublicKey.default;var N=require("@solana/web3.js"),B=C(require("bn.js"));var e=require("@solana/buffer-layout");var w=e.Structure;var h=e.UInt;var _=e.nu64;function x(t){return new h(1,t)}var l=class extends w{decode(n,o){return super.decode(n,o)}};function m(t,n,o){return new l(t,n,o)}var g=m([x("instruction"),_("amount")]),c=m([x("instruction")]);function E({programId:t,amount:n,instructionKeys:o}){let u=[{pubkey:new a.PublicKey("11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...Object.entries(o).map(([i,y])=>({pubkey:y,isSigner:i==="userOwner",isWritable:!["authority","userOwner","userIdoCheck","userStakeInfo"].includes(i)}))],s=Buffer.alloc(g.span);return g.encode({instruction:1,amount:Number(n)},s),new a.TransactionInstruction({keys:u,programId:t,data:s})}function W({programId:t},n){let o=[{pubkey:d.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...Object.entries(n).map(([s,i])=>({pubkey:i,isSigner:s==="userOwner",isWritable:!["authority","userOwner"].includes(s)}))],u=Buffer.alloc(c.span);return c.encode({instruction:2},u),new a.TransactionInstruction({keys:o,programId:t,data:u})}function O(t){let{poolConfig:n,userKeys:o,side:u}=t,s=u==="base"?o.baseTokenAccount:o.quoteTokenAccount,i=u==="base"?n.baseVault:n.quoteVault,y=Buffer.alloc(c.span);c.encode({instruction:2},y);let k=[{pubkey:d.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:a.SYSVAR_CLOCK_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:n.id,isWritable:!0,isSigner:!1},{pubkey:n.authority,isWritable:!1,isSigner:!1},{pubkey:i,isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!0,isSigner:!1},{pubkey:o.ledgerAccount,isWritable:!0,isSigner:!1},{pubkey:o.owner,isWritable:!1,isSigner:!0}];return new a.TransactionInstruction({programId:n.programId,keys:k,data:y})}0&&(module.exports={makeClaimInstruction,makeClaimInstructionV4,makePurchaseInstruction});
//# sourceMappingURL=instruction.js.map