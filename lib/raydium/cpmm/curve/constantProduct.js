var A=Object.create;var B=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var E=(o,t)=>{for(var e in t)B(o,e,{get:t[e],enumerable:!0})},c=(o,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of g(t))!h.call(o,r)&&r!==e&&B(o,r,{get:()=>t[r],enumerable:!(n=F(t,r))||n.enumerable});return o};var l=(o,t,e)=>(e=o!=null?A(R(o)):{},c(t||!o||!o.__esModule?B(e,"default",{value:o,enumerable:!0}):e,o)),x=o=>c(B({},"__esModule",{value:!0}),o);var v={};E(v,{ConstantProductCurve:()=>d});module.exports=x(v);var a=l(require("bn.js"));var S=l(require("bn.js")),Z=new S.default(1e6);function p(o,t){if(t.isZero())throw Error("divisor is zero");return o.mod(t)}function k(o,t){if(t.isZero())throw Error("rhs is zero");let e=o.div(t);if(e.isZero())throw Error("quotient is zero");let n=p(o,t);if(n.gt(u)){e=e.add(new a.default(1));let r=o.div(e);n=p(o,e),n.gt(u)&&(r=r.add(new a.default(1)))}return[e,t]}var u=new a.default(0),d=class{static swapWithoutFees(t,e,n){let r=e.mul(n),N=e.add(t),[i,s]=k(r,N),w=s.sub(e),m=n.sub(i);if(m.isZero())throw Error("destinationAmountSwapped is zero");return{sourceAmountSwapped:w,destinationAmountSwapped:m}}static lpTokensToTradingTokens(t,e,n,r,N){let i=t.mul(n).div(e),s=t.mul(r).div(e);if(N===0)return{tokenAmount0:i,tokenAmount1:s};if(N===1)return p(t.mul(n),e).gt(u)&&i.gt(u)&&(i=i.add(new a.default(1))),p(t.mul(r),e).gt(u)&&s.gt(u)&&(s=s.add(new a.default(1))),{tokenAmount0:i,tokenAmount1:s};throw Error("roundDirection value error")}};0&&(module.exports={ConstantProductCurve});
//# sourceMappingURL=constantProduct.js.map