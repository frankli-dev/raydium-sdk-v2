{"version":3,"sources":["../../../../src/raydium/cpmm/curve/fee.ts"],"sourcesContent":["import BN from \"bn.js\";\n\nexport const FEE_RATE_DENOMINATOR_VALUE = new BN(1_000_000);\n\nexport function ceilDiv(tokenAmount: BN, feeNumerator: BN, feeDenominator: BN): BN {\n  return tokenAmount.mul(feeNumerator).add(feeDenominator).sub(new BN(1)).div(feeDenominator);\n}\n\nexport function floorDiv(tokenAmount: BN, feeNumerator: BN, feeDenominator: BN): BN {\n  return tokenAmount.mul(feeNumerator).div(feeDenominator);\n}\n\nexport class CpmmFee {\n  static tradingFee(amount: BN, tradeFeeRate: BN): BN {\n    return ceilDiv(amount, tradeFeeRate, FEE_RATE_DENOMINATOR_VALUE);\n  }\n  static protocolFee(amount: BN, protocolFeeRate: BN): BN {\n    return floorDiv(amount, protocolFeeRate, FEE_RATE_DENOMINATOR_VALUE);\n  }\n  static fundFee(amount: BN, fundFeeRate: BN): BN {\n    return floorDiv(amount, fundFeeRate, FEE_RATE_DENOMINATOR_VALUE);\n  }\n}\n"],"mappings":"6iBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,EAAA,+BAAAC,EAAA,YAAAC,EAAA,aAAAC,IAAA,eAAAC,EAAAN,GAAA,IAAAO,EAAe,oBAEFC,EAA6B,IAAI,EAAAC,QAAG,GAAS,EAEnD,SAASC,EAAQC,EAAiBC,EAAkBC,EAAwB,CACjF,OAAOF,EAAY,IAAIC,CAAY,EAAE,IAAIC,CAAc,EAAE,IAAI,IAAI,EAAAJ,QAAG,CAAC,CAAC,EAAE,IAAII,CAAc,CAC5F,CAEO,SAASC,EAASH,EAAiBC,EAAkBC,EAAwB,CAClF,OAAOF,EAAY,IAAIC,CAAY,EAAE,IAAIC,CAAc,CACzD,CAEO,IAAME,EAAN,KAAc,CACnB,OAAO,WAAWC,EAAYC,EAAsB,CAClD,OAAOP,EAAQM,EAAQC,EAAcT,CAA0B,CACjE,CACA,OAAO,YAAYQ,EAAYE,EAAyB,CACtD,OAAOJ,EAASE,EAAQE,EAAiBV,CAA0B,CACrE,CACA,OAAO,QAAQQ,EAAYG,EAAqB,CAC9C,OAAOL,EAASE,EAAQG,EAAaX,CAA0B,CACjE,CACF","names":["fee_exports","__export","CpmmFee","FEE_RATE_DENOMINATOR_VALUE","ceilDiv","floorDiv","__toCommonJS","import_bn","FEE_RATE_DENOMINATOR_VALUE","BN","ceilDiv","tokenAmount","feeNumerator","feeDenominator","floorDiv","CpmmFee","amount","tradeFeeRate","protocolFeeRate","fundFeeRate"]}